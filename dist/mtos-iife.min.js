var mtos=function(e){"use strict";var t;var n="undefined"==typeof document?void 0:document,o=!!n&&"content"in n.createElement("template"),r=!!n&&n.createRange&&"createContextualFragment"in n.createRange();function a(e){return e=e.trim(),o?function(e){var t=n.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(e):r?function(e){return t||(t=n.createRange()).selectNode(n.body),t.createContextualFragment(e).childNodes[0]}(e):function(e){var t=n.createElement("body");return t.innerHTML=e,t.childNodes[0]}(e)}function i(e,t){var n,o,r=e.nodeName,a=t.nodeName;return r===a||(n=r.charCodeAt(0),o=a.charCodeAt(0),n<=90&&o>=97?r===a.toUpperCase():o<=90&&n>=97&&a===r.toUpperCase())}function l(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var d={OPTION:function(e,t){var n=e.parentNode;if(n){var o=n.nodeName.toUpperCase();"OPTGROUP"===o&&(o=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==o||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}l(e,t,"selected")},INPUT:function(e,t){l(e,t,"checked"),l(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var o=e.firstChild;if(o){var r=o.nodeValue;if(r==n||!n&&r==e.placeholder)return;o.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,o,r=-1,a=0,i=e.firstChild;i;)if("OPTGROUP"===(o=i.nodeName&&i.nodeName.toUpperCase()))i=(n=i).firstChild;else{if("OPTION"===o){if(i.hasAttribute("selected")){r=a;break}a++}!(i=i.nextSibling)&&n&&(i=n.nextSibling,n=null)}e.selectedIndex=r}}};function c(){}function u(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var f=function(e){return function(t,o,r){if(r||(r={}),"string"==typeof o)if("#document"===t.nodeName||"HTML"===t.nodeName||"BODY"===t.nodeName){var l=o;(o=n.createElement("html")).innerHTML=l}else o=a(o);var f=r.getNodeKey||u,s=r.onBeforeNodeAdded||c,v=r.onNodeAdded||c,h=r.onBeforeElUpdated||c,m=r.onElUpdated||c,p=r.onBeforeNodeDiscarded||c,b=r.onNodeDiscarded||c,N=r.onBeforeElChildrenUpdated||c,g=!0===r.childrenOnly,T=Object.create(null),A=[];function C(e){A.push(e)}function E(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var o=void 0;t&&(o=f(n))?C(o):(b(n),n.firstChild&&E(n,t)),n=n.nextSibling}}function S(e,t,n){!1!==p(e)&&(t&&t.removeChild(e),b(e),E(e,n))}function w(e){v(e);for(var t=e.firstChild;t;){var n=t.nextSibling,o=f(t);if(o){var r=T[o];r&&i(t,r)?(t.parentNode.replaceChild(r,t),y(r,t)):w(t)}else w(t);t=n}}function y(t,o,r){var a=f(o);if(a&&delete T[a],!r){if(!1===h(t,o))return;if(e(t,o),m(t),!1===N(t,o))return}"TEXTAREA"!==t.nodeName?function(e,t){var o,r,a,l,c,u=t.firstChild,v=e.firstChild;e:for(;u;){for(l=u.nextSibling,o=f(u);v;){if(a=v.nextSibling,u.isSameNode&&u.isSameNode(v)){u=l,v=a;continue e}r=f(v);var h=v.nodeType,m=void 0;if(h===u.nodeType&&(1===h?(o?o!==r&&((c=T[o])?a===c?m=!1:(e.insertBefore(c,v),r?C(r):S(v,e,!0),v=c):m=!1):r&&(m=!1),(m=!1!==m&&i(v,u))&&y(v,u)):3!==h&&8!=h||(m=!0,v.nodeValue!==u.nodeValue&&(v.nodeValue=u.nodeValue))),m){u=l,v=a;continue e}r?C(r):S(v,e,!0),v=a}if(o&&(c=T[o])&&i(c,u))e.appendChild(c),y(c,u);else{var p=s(u);!1!==p&&(p&&(u=p),u.actualize&&(u=u.actualize(e.ownerDocument||n)),e.appendChild(u),w(u))}u=l,v=a}!function(e,t,n){for(;t;){var o=t.nextSibling;(n=f(t))?C(n):S(t,e,!0),t=o}}(e,v,r);var b=d[e.nodeName];b&&b(e,t)}(t,o):d.TEXTAREA(t,o)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var o=f(n);o&&(T[o]=n),e(n),n=n.nextSibling}}(t);var O,x,R=t,U=R.nodeType,L=o.nodeType;if(!g)if(1===U)1===L?i(t,o)||(b(t),R=function(e,t){for(var n=e.firstChild;n;){var o=n.nextSibling;t.appendChild(n),n=o}return t}(t,(O=o.nodeName,(x=o.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==x?n.createElementNS(x,O):n.createElement(O)))):R=o;else if(3===U||8===U){if(L===U)return R.nodeValue!==o.nodeValue&&(R.nodeValue=o.nodeValue),R;R=o}if(R===o)b(t);else{if(o.isSameNode&&o.isSameNode(R))return;if(y(R,o,g),A)for(var P=0,I=A.length;P<I;P++){var M=T[A[P]];M&&S(M,M.parentNode,!1)}}return!g&&R!==t&&t.parentNode&&(R.actualize&&(R=R.actualize(t.ownerDocument||n)),t.parentNode.replaceChild(R,t)),R}}((function(e,t){var n,o,r,a,i=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var l=i.length-1;l>=0;l--)o=(n=i[l]).name,a=n.value,(r=n.namespaceURI)?e.getAttributeNS(r,o=n.localName||o)!==a&&("xmlns"===n.prefix&&(o=n.name),e.setAttributeNS(r,o,a)):e.getAttribute(o)!==a&&e.setAttribute(o,a);for(var d=e.attributes,c=d.length-1;c>=0;c--)o=(n=d[c]).name,(r=n.namespaceURI)?t.hasAttributeNS(r,o=n.localName||o)||e.removeAttributeNS(r,o):t.hasAttribute(o)||e.removeAttribute(o)}})),s=f;function v(e,t){const n=document.createElement("script");return[...t.attributes].forEach((e=>n.setAttribute(e.nodeName,e.nodeValue))),n.innerHTML=t.innerHTML,e.replaceWith(n),n}function h(e,t){return Object.assign(Object.assign({enable:!0,top:0,left:0,behavior:"smooth"},t),e)}const m=[];var p=g(),b=window.location.href;function N({href:e,target:t,host:n}){return n===window.location.host&&e.split("#")[0]!==b.split("#")[0]&&(""===t||"_self"===t)}function g(e={}){return Object.assign(Object.assign({},e),{onMatch:e.onMatch||N,scroll:h(e.scroll),onNodeAdded(t){var n;return e.eval&&"SCRIPT"===t.nodeName&&(t=v(t,t)),(null===(n=e.onNodeAdded)||void 0===n?void 0:n.call(e,t))||t},onBeforeElUpdated(t,n){var o;return e.eval&&"SCRIPT"===t.nodeName&&"SCRIPT"===n.nodeName?v(t,n)&&!1:(null===(o=e.onBeforeElUpdated)||void 0===o?void 0:o.call(e,t,n))||!0}})}function T(e,t={}){var n;if(!1!==(null===(n=p.onFetchStart)||void 0===n?void 0:n.call(p,e)))return fetch(e,p.fetch).then((e=>e.text())).then((n=>{var o,r,a,i;const l=document.createElement("html");l.innerHTML=(null===(o=p.onFetchEnd)||void 0===o?void 0:o.call(p,n,e))||n,b=e,!1!==t.pushState&&(m.push(function(){if(null!=window.pageYOffset)return{left:window.pageXOffset,top:window.pageYOffset};const e=document,t=e.documentElement,n=e.body;return{left:t.scrollLeft||n.scrollLeft||0,top:t.scrollTop||n.scrollTop||0}}()),history.pushState({},(null===(r=document.head.querySelector("title"))||void 0===r?void 0:r.innerText)||"Document",e)),null===(a=p.onBeforePageRendered)||void 0===a||a.call(p,e);const d=l.querySelector("head"),c=l.querySelector("body");d&&s(document.head,d,p),c&&s(document.body,c,p),null===(i=p.onPageRendered)||void 0===i||i.call(p,e);const u=h(t.scroll,p.scroll);u.enable&&window.scrollTo(u),A()})).catch((t=>{var n;return null===(n=p.onFetchError)||void 0===n?void 0:n.call(p,t,e)})),!1}function A(){document.querySelectorAll("a").forEach((e=>{p.onMatch(e)&&(e.onclick=()=>T(e.href))}))}return window.addEventListener("load",A),window.addEventListener("popstate",(()=>{const e=document.createElement("a");e.href=window.location.href,p.onMatch(e)&&T(document.location.href,{pushState:!1,scroll:h(Object.assign({behavior:"auto"},m.pop()))})})),e.check=N,e.goto=T,e.mtos=A,e.resolveConfig=g,e.setup=function(e){p=g(e)},e}({});
